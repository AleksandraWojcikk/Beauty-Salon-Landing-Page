---
import { Image } from 'astro:assets';
import logo from '../images/logo.png';
---

<nav class="flex justify-between sticky top-0 relative items-center bg-gray rounded-b-2xl p-5 z-10">
  <ul class="p-0 flex text-[#3e2c26]">
    <li class=" hover:text-pink transition-colors duration-300 p-2">
      <a href="/">Strona główna</a>
    </li>
    <li class="ml-[25px] p-2 hover:text-pink transition-colors duration-300 aboutUs">
      <a href="#aboutUs">O nas</a>
    </li>
    <li class="ml-[25px] p-2 hover:text-pink transition-colors duration-300 services">
      <a href="#services">Usługi</a>
    </li>
    <li class="ml-[25px] p-2 hover:text-pink transition-colors duration-300 bestSellers">
      <a href="#bestSellers">Cennik</a>
    </li>
  </ul>
  <ul class="p-0 flex">
    <li class=" hover:text-pink transition-colors duration-300 p-2">
      <a href="/">Testimanial</a>
    </li>
    <li class="ml-[25px]  hover:text-pink transition-colors duration-300 p-2">
      <a href="/">Kontakt</a>
    </li>
  </ul>
</nav>

<Image
    class="absolute left-1/2 -translate-x-1/2 top-0 z-10 w-[200px]"
    src={logo}
    alt="logo"
  />

<script>
  const sections = document.querySelectorAll("section");
  const navLi = document.querySelectorAll("nav ul li");

  window.onscroll = () => {
    var current = "";
    
    sections.forEach((section) => {
      const sectionTop = section.offsetTop;
      if (scrollY >= sectionTop - 180) {
        current = section.getAttribute("id");
      }
    })
    
    navLi.forEach((li) => {
      li.classList.remove("navActive");
      if (li.classList.contains(current)) {
        li.classList.add("navActive");
      }
    })
}
</script>